<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Mere Code</title><link href="http://code.mumak.net/" rel="alternate"></link><link href="http://code.mumak.net/feeds/jonathan-m-lange.atom.xml" rel="self"></link><id>http://code.mumak.net/</id><updated>2014-07-11T00:00:00+01:00</updated><entry><title>Cutting edge debugging</title><link href="http://code.mumak.net/2014/07/cutting-edge-debugging.html" rel="alternate"></link><updated>2014-07-11T00:00:00+01:00</updated><author><name>Jonathan M. Lange</name></author><id>tag:code.mumak.net,2014-07-11:2014/07/cutting-edge-debugging.html</id><summary type="html">&lt;p&gt;One of the great pleasures of advancing in one's craft is the thrill of solving 
newer, more difficult problems. In the course of my work, I frequently encounter 
many bugs which appear at first glance to be impossible. Not just impossible to
solve, but intrinsically impossible. It's as if being at the very frontiers of
technology exposes one to strange new logics that the human mind is not fit to
grasp.&lt;/p&gt;
&lt;p&gt;Each of these bugs is, of course, unique, and it would be folly to suggest that
there could be any sort of &lt;em&gt;systematic method&lt;/em&gt; that could be applied at the
cutting edge of technology, as if one could push back the boundaries of ignorance
in much the same way as one fills in a tax return. Nevertheless, the following
principles have served me pretty well, and are perhaps deserve a wider audience.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You're editing the wrong file&lt;/li&gt;
&lt;li&gt;You're editing the right file, but on the wrong machine&lt;/li&gt;
&lt;li&gt;You're editing the right file, but you forgot to save it&lt;/li&gt;
&lt;li&gt;You've edited the right file, but you forgot to recompile&lt;/li&gt;
&lt;li&gt;The thing you thought you turned on, you actually turned off&lt;/li&gt;
&lt;li&gt;The thing you thought you turned off, you actually turned on&lt;/li&gt;
&lt;li&gt;You're in a meeting, and you should be paying attention. They wouldn't have 
  eighteen people talking about it unless it was really important, would they?&lt;/li&gt;
&lt;li&gt;You're running the wrong version&lt;/li&gt;
&lt;li&gt;You're running the right version, but on the wrong machine&lt;/li&gt;
&lt;li&gt;You've fixed the problem, but forgot to push&lt;/li&gt;
&lt;li&gt;You've fixed the problem and remembered to push, but you forgot to commit&lt;/li&gt;
&lt;li&gt;You've fixed the problem, committed, and pushed. However, many users were 
  relying on the previous, broken behaviour and so now you must roll back.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I offer up these principles humbly: no single approach can suffice at the very
fringes of the known. I earnestly hope that by meditating on them we can
achieve things as yet undreamt of.&lt;/p&gt;</summary></entry><entry><title>conda and binstar: initial experiences</title><link href="http://code.mumak.net/2014/07/conda-and-binstar-initial-experiences.html" rel="alternate"></link><updated>2014-07-08T00:00:00+01:00</updated><author><name>Jonathan M. Lange</name></author><id>tag:code.mumak.net,2014-07-08:2014/07/conda-and-binstar-initial-experiences.html</id><summary type="html">&lt;p&gt;A while ago my friend &lt;a href="https://github.com/teh"&gt;teh&lt;/a&gt; recommended that I use
&lt;a href="http://conda.pydata.org/"&gt;conda&lt;/a&gt; for Python package management, because of
its intrinsic superiority to &lt;a href="http://pip.readthedocs.org/en/latest/"&gt;pip&lt;/a&gt; &amp;amp;
&lt;a href="http://virtualenv.readthedocs.org/en/latest/"&gt;virtualenv&lt;/a&gt;. I'm no fan of
either, and teh generally has pretty good taste, so I thought I'd check it
out.&lt;/p&gt;
&lt;p&gt;I haven't formed an overall opinion yet, but I &lt;em&gt;can&lt;/em&gt; say without reservation
that the overall experience for someone who has become used to pip &amp;amp;
virtualenv is very frustrating.&lt;/p&gt;
&lt;p&gt;What I found myself wanting was a one pager explaining conda &amp;amp; binstar to
someone familiar with pip &amp;amp; virtualenv, which are unquestionably vastly more
popular.  Alas, there's none to be found.&lt;/p&gt;
&lt;p&gt;There are some guidelines here and there on the net about how to install a
package that's available on PyPI into a conda system, but they don't always
work.&lt;/p&gt;
&lt;p&gt;For example, I'd like to play around with
&lt;a href="http://pyrsistent.readthedocs.org/en/latest/"&gt;pyrsistent&lt;/a&gt;. The recommended
approach is to do the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; conda skeleton pypi pyrsistent
&lt;span class="gp"&gt;$&lt;/span&gt; conda build pyrsistent
&lt;span class="gp"&gt;$&lt;/span&gt; binstar upload //anaconda/conda-bld/osx-64/pyrsistent-0.3.1-py27_0.tar.bz2
&lt;span class="gp"&gt;$&lt;/span&gt; conda install pyrsistent
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Everything works fine up until the &lt;code&gt;build&lt;/code&gt; step, but the upload fails because
someone has already uploaded the package. Fine. So &lt;code&gt;conda install pyrsistent&lt;/code&gt;
should work, right?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; conda install pyrsistent
&lt;span class="go"&gt;Fetching package metadata: ...&lt;/span&gt;
&lt;span class="go"&gt;Error: No packages found matching: pyrsistent&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Wut.&lt;/p&gt;
&lt;p&gt;Searching &lt;a href="https://binstar.org/dashboard"&gt;binstar&lt;/a&gt; finds pyristent. Apparently
I have to add some kind of channel (a concept that's not well explained, and
that does not seem to appear at all on the binstar UI).&lt;/p&gt;
&lt;p&gt;I try this way:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; conda config --add channels https://binstar.org/auto
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But apparently that's not a channel:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; conda install pyrsistent
&lt;span class="go"&gt;Fetching package metadata: ....Error: HTTPError: 404 Client Error: NOT FOUND: https://binstar.org/auto/osx-64/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So I try this way:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; conda config --add channels https://binstar.org/auto
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And that &lt;em&gt;is&lt;/em&gt; a channel, but pyrsistent it doth not find:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; conda install pyrsistent
&lt;span class="go"&gt;Error: No packages found matching: pyrsistent&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I take a look at the
&lt;a href="https://binstar.org/auto/pyrsistent/0.1.0/files"&gt;files page for pyrsistent&lt;/a&gt;
and it looks like the only file is &lt;code&gt;linux-64/pyrsistent-0.1.0-py27_0.tar.bz2&lt;/code&gt;.
I'm running OS X (for my sins) and my &lt;em&gt;guess&lt;/em&gt; is that the "No packages found
matching" error refers to a lack of binary builds.&lt;/p&gt;
&lt;p&gt;So, what am I supposed to do? At this point, the documentation and the error
messages from the tools leave me with no obvious way forward. Perhaps there's
some underlying concept that would illuminate all for me, if only I could
grasp it. Perhaps it's simply a bug.&lt;/p&gt;
&lt;p&gt;In any case, I'm not abandoning conda yet (in part because I have no idea how
to extricate it from my system), but it has some way to go before it is
properly better than pip &amp;amp; virtualenv.&lt;/p&gt;</summary></entry><entry><title>Migrated to Pelican</title><link href="http://code.mumak.net/2014/07/migrated-to-pelican.html" rel="alternate"></link><updated>2014-07-05T15:21:00+01:00</updated><author><name>Jonathan M. Lange</name></author><id>tag:code.mumak.net,2014-07-05:2014/07/migrated-to-pelican.html</id><summary type="html">&lt;p&gt;A while ago, I got sick of Blogger, so I switched to Octopress.&lt;/p&gt;
&lt;p&gt;I really could not be bothered learning how to manage Ruby virtual
environments, and kept running into version issues, so I have followed
&lt;a href="https://glyph.twistedmatrix.com/2014/01/and-now-for-something-completely-different.html"&gt;glyph's example&lt;/a&gt;
and migrated to &lt;a href="http://blog.getpelican.com/"&gt;Pelican&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;No comments yet, and still quite a few things that ought to be done.  If you
notice something broken or missing, &lt;a href="https://github.com/jml/code.mumak.net/issues"&gt;please file a bug&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I'm afraid I have neither the energy nor the inclination to do a full write-up
of the migration process. However, I'll provide the following notes in case
they help anyone who wants to do the same thing.&lt;/p&gt;
&lt;h2&gt;Patches required&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/getpelican/pelican-plugins/pull/235"&gt;Handle unicode authors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/getpelican/pelican/pull/1390"&gt;Basic blogger import&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Comment support for blogger&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gist.github.com/jml/106e87af1bbf6067a94c"&gt;Post-processing of extracted HTML&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Make the blog&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; pelican-quickstart
&lt;span class="go"&gt;Welcome to pelican-quickstart v3.3.1.dev.&lt;/span&gt;

&lt;span class="go"&gt;This script will help you create a new Pelican-based website.&lt;/span&gt;

&lt;span class="go"&gt;Please answer the following questions so this script can generate the files&lt;/span&gt;
&lt;span class="go"&gt;needed by Pelican.&lt;/span&gt;


&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Where &lt;span class="k"&gt;do &lt;/span&gt;you want to create your new web site? &lt;span class="o"&gt;[&lt;/span&gt;.&lt;span class="o"&gt;]&lt;/span&gt; code-blog
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; What will be the title of this web site? Mere Code
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Who will be the author of this web site? Jonathan M. Lange
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; What will be the default language of this web site? &lt;span class="o"&gt;[&lt;/span&gt;en&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to specify a URL prefix? e.g., http://example.com   &lt;span class="o"&gt;(&lt;/span&gt;Y/n&lt;span class="o"&gt;)&lt;/span&gt; Y
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; What is your URL prefix? &lt;span class="o"&gt;(&lt;/span&gt;see above example; no trailing slash&lt;span class="o"&gt;)&lt;/span&gt; http://code.mumak.net
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to &lt;span class="nb"&gt;enable &lt;/span&gt;article pagination? &lt;span class="o"&gt;(&lt;/span&gt;Y/n&lt;span class="o"&gt;)&lt;/span&gt; Y
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; How many articles per page &lt;span class="k"&gt;do &lt;/span&gt;you want? &lt;span class="o"&gt;[&lt;/span&gt;10&lt;span class="o"&gt;]&lt;/span&gt; 20
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? &lt;span class="o"&gt;(&lt;/span&gt;Y/n&lt;span class="o"&gt;)&lt;/span&gt; Y
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want an auto-reload &amp;amp; simpleHTTP script to assist with theme and site development? &lt;span class="o"&gt;(&lt;/span&gt;Y/n&lt;span class="o"&gt;)&lt;/span&gt; Y
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to upload your website using FTP? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt; n
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to upload your website using SSH? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to upload your website using Dropbox? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to upload your website using S3? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to upload your website using Rackspace Cloud Files? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Do you want to upload your website using GitHub Pages? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt; Y
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; Is this your personal page &lt;span class="o"&gt;(&lt;/span&gt;username.github.io&lt;span class="o"&gt;)&lt;/span&gt;? &lt;span class="o"&gt;(&lt;/span&gt;y/N&lt;span class="o"&gt;)&lt;/span&gt; N
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Extract the things&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; pelican-import --blogger -m markdown &lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="go"&gt;  -o output-directory/ --wp-custpost --dir-page \&lt;/span&gt;
&lt;span class="go"&gt;  blog-08-29-2013.xml&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Transfer the things&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; cp output-directory/* blog-directory/content/
&lt;span class="gp"&gt;$&lt;/span&gt; rm -rf blog-directory/content/settings blog-directory/content/templates/
&lt;span class="gp"&gt;$&lt;/span&gt; mv blog-directory/content/comments blog-directory
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Tweak the blog&lt;/h2&gt;
&lt;p&gt;Only
&lt;a href="https://github.com/jml/code.mumak.net/commit/4ed1bdf23811d01de8d2ed2392350dd63f3ecd8a"&gt;basic tweaks&lt;/a&gt;.
Note that the &lt;code&gt;pelican_comment_system&lt;/code&gt; plugin is used in order to nicely
render the imported blogger comments.&lt;/p&gt;
&lt;p&gt;I had to
&lt;a href="https://github.com/jml/pelican-themes/commit/ae3c4d3e78d75180a4c25a22de01790b7e502bab"&gt;manually tweak the theme&lt;/a&gt;
to support the comment system.&lt;/p&gt;</summary><category term="pelican"></category><category term="blog"></category></entry></feed>